!!!
%html
  %head
    :javascript
      if (!window.console) {
        window.console = {
                     log: function() {}
                   };
      }
    %title DoremiScript Letter Music Notation
    %link{:href => "/css/superfish.css", :media => "all", :rel => "stylesheet", :type => "text/css"}/
    %link{:href => "/css/application.css", :media => "all", :rel => "stylesheet", :type => "text/css"}/
    %meta{:content => "text/html;charset=utf-8", "http-equiv" => "Content-Type"}/
  %body
    / Facebook
    #fb-root
    :javascript
      window.fbAsyncInit = function() {
        FB.init({
          appId      : '126051004177780',
          status     : true, 
          cookie     : true,
          xfbml      : true,
          oauth      : true,
        });
      };
      (function(d){
         var js, id = 'facebook-jssdk'; if (d.getElementById(id)) {return;}
         js = d.createElement('script'); js.id = id; js.async = true;
         js.src = "//connect.facebook.net/en_US/all.js";
         d.getElementsByTagName('head')[0].appendChild(js);
       }(document));
          .fb-login-button Login with Facebook
    / end facebook
    %a{:href => "/https://github.com/rothfield/doremi-script"} doremi Project home page on github
    %h1 Letter Music Notation Editor
    %div
      %ul#menubar.superfish
        %li
          %a{:href => "#"} File
          %ul
            %li
              %a#save_to_server{:href => "#"} Save
            %li
              %a#show_open{:href => "#"} Open
            %li
              %a#generate_staff_notation{:href => "#"} Generate staff notation
        %li
          %a{:href => "#"} Download
          %ul
            %li
              %a#download_ly.saved_to_server{:href => "", :target => "_blank"} Lilypond
            %li
              %a#download_xml.saved_to_server{:href => "", :target => "_blank"} MusicXML
            %li
              %a#download_html.saved_to_server{:href => "", :target => "_blank"} HTML Page
            %li
              %a#download_png.generated_by_lilypond{:href => "", :target => "_blank"} png
            %li
              %a#download_pdf.generated_by_lilypond{:href => "", :target => "_blank"} pdf
            %li
              %a#download_mid.generated_by_lilypond{:href => "", :target => "_blank", :title => "Play midi file"} midi
        %li
          %a{:href => "#"} Tools
          %ul
            %li
              %a#save_to_samples{:href => "#"} Save to Samples directory
            %li
              %a#run_parser{:href => "#"} Run parser manually
            %li
              %a#show_parse_tree{:href => "#"} Show Parse Tree
            %li
              %input#constrain{:name => "constrain", :type => "checkbox", :value => "constrained"}>/
              Constrain
              %br/
      %select#sample_compositions
        %option Samples
    #open_div
      %label Open:
      %input#file{:name => "files[]", :type => "file"}/
    %textarea#entry_area{:cols => "93", :rows => "3"}
    #parse_tree_div
      %pre#parse_tree
        :preserve
          
                                  Parse Tree goes here
                                              #warnings_div
    #rendered_doremi_script
    %br/
    %br/
    %br/
    %br/
    #reopen
      Use this link to re-open the composition:
      %a#reopen_link{:href => "", :target => "_blank"}
      %br/
      %input#url_to_reopen{:type => "text", :value => ""}/
    %br/
    %br/
    %div
      %img#lilypond_png.generated_by_lilypond{:src => "/images/none.png"}/
    %p Author: John Rothfield - rthfield@sonic.net
    %span#testing_utf_support.note.left_repeat{:style => "display:none"} 𝄆
    /
      zepto is an alternative
      <script type="text/javascript" src="/js/third_party/zepto.min.js"></script>
    %script{:src => "/js/third_party/jquery.js", :type => "text/javascript"}
    %script{:src => "/js/third_party/jquery.autogrow-textarea.js", :type => "text/javascript"}
    %script{:src => "/js/third_party/superfish.js", :type => "text/javascript"}
    %script{:src => "/js/third_party/underscore.js", :type => "text/javascript"}
    %script{:src => "/js/underscore.logger.js", :type => "text/javascript"}
    %script{:src => "/js/shims.js", :type => "text/javascript"}
    %script{:src => "/js/all_items.js", :type => "text/javascript"}
    %script{:src => "/js/shared.js", :type => "text/javascript"}
    %script{:src => "/js/third_party/fraction.js", :type => "text/javascript"}
    %script{:src => "/js/tree_iterators.js", :type => "text/javascript"}
    %script{:src => "/js/parser_helper.js", :type => "text/javascript"}
    %script{:src => "/js/to_lilypond.js", :type => "text/javascript"}
    %script{:src => "/js/to_musicxml.js", :type => "text/javascript"}
    %script{:src => "/js/doremi_script_parser.js", :type => "text/javascript"}
    %script{:src => "/js/dom_fixer.js", :type => "text/javascript"}
    %script{:src => "/js/html_renderer.js", :type => "text/javascript"}
    %script{:src => "/js/application.js", :type => "text/javascript"}
    / stash css and javascript here when necessary to generate a standalone page.
    %script#css_for_html_doc{:type => "text/html"}
    %script#zepto_for_html_doc{:type => "text/html"}
    %script#dom_fixer_for_html_doc{:type => "text/html"}
    %script#testing_utf_support{:type => "text/html"}
    / TODO: load from a common location
