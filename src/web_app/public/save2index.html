<!DOCTYPE html>
<html>
<head>
<script type="text/javascript">
    if (!window.console) {
      window.console = {
                   log: function() {}
                 };
    }
</script>
    <title>DoremiScript Letter Music Notation</title>
    <link rel="stylesheet" href="/css/application.css" type="text/css" media="all">
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
</head>
<body>
<a href="/https://github.com/rothfield/doremi-script">doremi Project home page on github</a>
<h1>Letter Music Notation Editor</h1>
<h2>Enter music notation as text/letters, render it beautifully in html/css, and generate western staff notation/midi</h2>
<div>
<ul id='controls'>
<li>
<label>Open:</label>
<input type="file" id="file" name="files[]" />
 </li>
<li>
</li>
<!--
<li>
<a id="staff_notation_link" href="/#staff_notation">Jump to Staff Notation</a> 
</li>
-->
<li>
<select id="sample_compositions"><option>Load sample compositions</select>
</li>
<!--
<li>
<a href="/#rendered_doremi_script">Jump to Rendered DoremiScript</a> 
</li>
-->
<li>
<button id="show_parse_tree">Show Parse Tree</button>
</li>
</ul>
</div>
<h2 class="step">Step 1: Enter music notation as letters. You can use ABC(C C# D Eb), Sargam (SrRgGmPdDnN), Number notation(1234567), or Devanagri Sargam(<span class="display_devanagri">सरग़मपधऩस</span>). Place dots above/below notes to indicate octaves. Use (CDEF) to indicate a slur between C and F. Put a blank line between each line of notation. Use dashes as rhythmic placeholders (for example, try C--D--E)</h2>
<textarea id="entry_area" rows="5" cols="90"></textarea>
<input type="checkbox" name="constrain" value="constrained" id="constrain">Constrain<br/>
<div id="parse_tree_div">
                <pre id="parse_tree">
                        Parse Tree goes here
                                </pre>
                        </div>
<div id="warnings_div">
</div>
<a name="rendered_doremi_script"></a> 
<h2 class="step">Step 2: The music notation is rendered using standard html/css. Note the lower loops are automatically drawn to delimit beats and that upper loops are drawn for slurs. 
</h2>
<h4>Click <button id="run_parser">here</button> to run the parser manually</h4>
<div><label>Rendered DoremiScript:</label> </div>
<div id="rendered_doremi_script">
</div>
<br/>
<br/>
<br/>
<br/>
<h2 class="step">Step 3: Click <button id="save_files_to_server">Save to server...</button> to save source,musicxml, and lilypond files on the server. (Doesn't generate staff notation)
You can download these files to your computer by right clicking and doing "Save As". You can use the musicxml file to import into other programs like Finale, MuseScore, Sibelius, etc.
<br/><input id="save_to_samples2" name="save_to_samples" type="checkbox">Save to Samples(Admin Only)</input>
<div id="reopen">
Use this link to re-open the composition:
<a id="reopen_link" href="" target="_blank"></a>
<br/>
<input type='text' id="url_to_reopen" value="">
<a class="saved_to_server" id="download_ly" href="" target="_blank">Lilypond</a>
<a class="saved_to_server" id="download_xml" href="" target="_blank">MusicXML</a>
<a class="saved_to_server" id="download_txt" href="" target="_blank">Source</a>
<a class="saved_to_server" id="download_html" href="" target="_blank">Source</a>
</h2>
</div>
<h2 class="step">Step 4: Click <button id="generate_staff_notation">Generate staff notation...</button> to render the notation in staff notation using lilypond. This also generates midi, png, and pdf files on the server.
<input id="save_to_samples" name="save_to_samples" type="checkbox">Save to Samples(Admin Only)</input>
</h2>
<button id="generate_html_page">Display html in own window</button>
<pre id='lilypond_source'>
</pre>
<pre id='musicxml_source'>
</pre>
<div id='lilypond_output'>
</div>
<h2 class="step">Step 5: Download files generated by lilypond (links open in new window) (Must click the Generate staff notation... button first) 
</h2>
<div>
<a class="generated_by_lilypond" id="download_png" href="" target="_blank">png</a>
<a class="generated_by_lilypond" id="download_pdf" href="" target="_blank">pdf</a>
<a class="generated_by_lilypond" id="download_mid" title="Play midi file" href="" target="_blank">midi</a>
</div>
<div>
<img class="generated_by_lilypond" id="lilypond_png" src="/images/none.png"/>
</div>
<br/>
<br/>
<p>Author: John Rothfield - rthfield@sonic.net</p>

<span id="testing_utf_support" style="display:none" class="note left_repeat">&#x1d106;</span>

<!-- zepto is an alternative -->
    <script type="text/javascript" src="/js/third_party/zepto.min.js"></script>
    <!-- back to jQuery 
    <script type="text/javascript" src="/js/third_party/jquery.js"></script>
    -->
    <script type="text/javascript" src="/js/third_party/underscore.js"></script>
    <script type="text/javascript" src="/js/underscore.logger.js"></script>
    <script type="text/javascript" src="/js/shims.js"></script>
    <script type="text/javascript" src="/js/all_items.js"></script>
    <script type="text/javascript" src="/js/shared.js"></script>
    <script type="text/javascript" src="/js/third_party/fraction.js"></script>
    <script type="text/javascript" src="/js/tree_iterators.js"></script>
    <script type="text/javascript" src="/js/parser_helper.js"></script>
    <script type="text/javascript" src="/js/to_lilypond.js"></script>
    <script type="text/javascript" src="/js/to_musicxml.js"></script>
    <script type="text/javascript" src="/js/doremi_script_parser.js"></script>
    <script type="text/javascript" src="/js/dom_fixer.js"></script>
    <script type="text/javascript" src="/js/html_renderer.js"></script>
    <script type="text/javascript" src="/js/application.js"></script>
<!-- stash css and javascript here when necessary to generate a standalone page.  -->
<script id="css_for_html_doc" type="text/html"></script>
<script id="zepto_for_html_doc" type="text/html"></script>
<script id="dom_fixer_for_html_doc" type="text/html"></script>
<script id="testing_utf_support" type="text/html">
</script>
<!-- TODO: load from a common location -->
</body>
</html>
